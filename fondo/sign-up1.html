<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="static/css/style.css" />
        
		<!--<link rel="stylesheet" href="assets/plugins/morris/morris.css">-->
        <link href="assets/plugins/bootstrap-sweetalert/sweet-alert.css" rel="stylesheet" type="text/css">
        <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="assets/css/pages.css" rel="stylesheet" type="text/css" />
        <link href="assets/css/responsive.css" rel="stylesheet" type="text/css" />



        <!-- Sweet Alert -->
        <link href="assets/plugins/sweet-alert2/sweetalert2.min.css" rel="stylesheet" type="text/css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <div class="width-500px center mt30 border p40 shadow-lg bg-white">

        <h1 class="text-center">Fondo</h1>
        <div class="width-300px center">
          <p class="text-center color-ash">
            Fill the form below to register on Fondo
          </p>
        </div>

        <hr class="mt10" />

        <form>
          <div class="form-group mt10">
            <input
              id="fullName"
              type="text"
              class="form-control"
              placeholder="Full name &#x2a;"
            >
          </div>

          <div class="form-group">
            <input
              id="email"
              type="email"
              class="form-control"
              placeholder="Email &#x2a;"
              
            >
          </div>

              <div class="form-group" id="validateAccountType">
                  <select id="accountType" class="form-control">
                    <option id="accountType" disabled="" selected="">Select account type &#x2a;</option>
                    <option value="Investor">Investor</option>
                    <option value="Fundraiser">Fundraiser</option>
                  </select>
                
              </div>

          <div class="form-group">
            <input
              id="password"
              type="password"
              class="form-control"
              placeholder="Password &#x2a;"
              
            >
          </div>

          <div class="form-group">
            <input
              id="confirmPassword"
              type="password"
              class="form-control"
              placeholder="Confirm password &#x2a;"
              
            >
          </div>

          <p id="testt" style="color: red;" class="text-center mt20 color-ash text-14">
            All fields marked with an asterisk (*) are required.
          </p>

          <div class="form-group mt10">
            <button type="button"
            id="submitButton"
              class="btn btn-primary btn-lg btn-block active"
              onclick="signUp()"
            >
              Sign up
            </button>

            <div class="width-300px center">
              <p class="text-center mt10 color-ash text-14">
                  By signing up, you agree to our <a href="terms-and-conditions.html">Terms of use</a>  and <a href="privacy-policy.html">Privacy Policy</a>
              </p>
            </div>
          </div>
        </form>
      </div>
    </div>


        <!-- jQuery  -->
        <!-- <script src="assets/js/jquery.min.js"></script> -->
        <script src="assets/js/bootstrap.min.js"></script>
        <script src="assets/js/detect.js"></script>
        <script src="assets/js/fastclick.js"></script>

        <script src="assets/js/jquery.slimscroll.js"></script>
        <script src="assets/js/jquery.blockUI.js"></script>
        <script src="assets/js/waves.js"></script>
        <script src="assets/js/wow.min.js"></script>
        <script src="assets/js/jquery.nicescroll.js"></script>
        <script src="assets/js/jquery.scrollTo.min.js"></script>

        <script src="assets/plugins/peity/jquery.peity.min.js"></script>

        <!-- jQuery  -->
        <script src="assets/plugins/waypoints/lib/jquery.waypoints.js"></script>
        <script src="assets/plugins/counterup/jquery.counterup.min.js"></script>

        <!--<script src="assets/plugins/morris/morris.min.js"></script>-->
        <script src="assets/plugins/raphael/raphael-min.js"></script>

        <script src="assets/plugins/jquery-knob/jquery.knob.js"></script>

        <!--<script src="assets/pages/jquery.dashboard.js"></script>-->

        <script src="assets/js/jquery.core.js"></script>
        <script src="assets/js/jquery.app.js"></script>

         <!-- Tree view js -->
        <script src="assets/plugins/jstree/jstree.min.js"></script>
        <script src="assets/pages/jquery.tree.js"></script>

         <!-- Modal-Effect -->
        <script src="assets/plugins/custombox/js/custombox.min.js"></script>
        <script src="assets/plugins/custombox/js/legacy.min.js"></script>

         <!--Form Wizard-->
        <script src="assets/plugins/jquery.steps/js/jquery.steps.min.js" type="text/javascript"></script>
        <script type="text/javascript" src="assets/plugins/jquery-validation/js/jquery.validate.min.js"></script>

         <!-- Sweet-Alert  -->
        <script src="assets/plugins/bootstrap-sweetalert/sweet-alert.min.js"></script>
        <script src="assets/pages/jquery.sweet-alert.init.js"></script>



<script type="text/javascript">

function signUp(){

var fullName = document.getElementById("fullName").value;
var email = document.getElementById("email").value;
var accountType = document.getElementById("accountType").value;
var password = document.getElementById("password").value;
var confirmPassword = document.getElementById("confirmPassword").value;

function validateEmail(email) {
  var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  return re.test(email);
}

if (fullName == ""){
  // Swal.fire('Hello world!')
  document.getElementById("fullName").style.border="1px solid red";
  document.getElementById("fullName").focus();
}
else if (!validateEmail(email)){
  document.getElementById("fullName").style.border="1px solid green";
  document.getElementById("email").style.border="1px solid red";
  document.getElementById("email").focus();
}
else if (accountType == "Select account type *") {
      $("#accountType").css("border", "2px solid red");
      $("#accountType").css("border-radius", "6px");
      document.getElementById("email").style.border="1px solid green";
      document.getElementById("accountType").focus();
    }
else if (password.length < 8){
  $("#accountType").css("border", "2px solid green");
  $("#accountType").css("border-radius", "6px");
  document.getElementById("email").style.border="1px solid green";
  document.getElementById("password").style.border="1px solid red";
  document.getElementById("password").focus();
}
else if (confirmPassword != password){
  document.getElementById("password").style.border="1px solid green";
  document.getElementById("confirmPassword").style.border="1px solid red";
  document.getElementById("confirmPassword").focus();
}
else{
  document.getElementById("confirmPassword").style.border="1px solid green";
  document.getElementById("testt").style.display="none";
  document.getElementById("submitButton").disabled = true;
  document.getElementById("submitButton").innerHTML = 'Please wait...';

        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {

                var response = this.responseText;
                document.getElementById("submitButton").disabled = false;
                document.getElementById("submitButton").innerHTML = 'Submit';
                if (response == "already"){
                  setTimeout(function() {
                  swal({
                      title: "Unable to Sign Up!",
                      text: "Sorry, User with this email address already exist.",
                      type: "warning"
                  }, function() {
                     
                  });
              }, 
              100);
                }
                else if(response == "good"){
                  setTimeout(function() {
                  swal({
                      title: "Account created successfully",
                      text: "Your account has been created successfully. Please login to your email to verify your account.",
                      type: "success"
                  }, function() {
                    location.href = "verify-account1.html";
                  });
              }, 
              100);
                }
                else{
                  setTimeout(function() {
                  swal({
                      title: "Unable to create account",
                      text: "Please try again, if problem persist; please contact our support team.",
                      type: "error"
                  }, function() {
                     
                  });
              }, 
              100);
                }
                
            }
        }
        xmlhttp.open("GET", "https://nabamis.com/fondo/register.php?fullName="+fullName+"&email="+email+"&password="+password+"&accountType="+accountType, true);
        xmlhttp.send();

  // $.ajax({
  //       url: "https://nabamis.com/fondo/register.php",
  //       data: JSON.stringify({
  //         "fullName": fullName,
  //         "email":  email,
  //         "password": password,
  //       }),
  //       dataType: 'json',
  //       type : 'POST',
  //       contentType: "application/json;",
  //       success : function(data) {
  //         document.getElementById("submitButton").disabled = false;
  //         document.getElementById("submitButton").innerHTML = 'Submit';
  //         window.location.replace("alert.html"); //Original
  //           // var id = data.id
  //           // fname = data.last_name,
  //           // localStorage.setItem('Live_verifier', id + '|' + fname + '|' + email);
  //       },
  //       error : function(data) {
  //           // localStorage.removeItem('Live_token');
  //           console.log(data);
  //           document.getElementById("submitButton").disabled = false;
  //           document.getElementById("submitButton").innerHTML = 'Submit';

  //           // var badResponse = data.status;
  //           if(data.status == 409){

  //           }

  //       }
  //   });

}

}



</script>

  </body>
</html>
